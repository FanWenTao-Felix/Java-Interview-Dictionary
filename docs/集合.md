# 集合

## 1.HashMap底层的数据结构

jdk1.6 1.7 采用 数组+链表，把key 进行取模获取 小标，到对应的链表 进行put/get操作 

jdk1.8 采用 数组+链表+红黑树（当链表超过8 时，转红黑树【1.符合二叉树结果 2.不是黑色 就红色 3.叶子节点都是黑色 或者nil 3.左右子树 高度差小于 1 】）

## 2.为什么HashMap数组容量会是2的倍数，以及扩容为什么是扩成两倍

可以减少碰撞几率，2的倍数 -1 得到值所有位都是1，和计算值相与后能保证结果单一，如果位上的0越多，碰撞概率越大 举个例子。。 比如容量是2的4次方 减1就是 1111.。。那么计算值1110过来和他相与， 结果是1110，另一个计算值1111和他相与结果仍是1111 各自结果不一样 不会碰撞 如果容量不是2的4次方 比如15 减1就是1110. 那么计算值1110过来和他相与， 结果是1110，另一个计算值1111和他相与结果是1110 跟前一个一样 发生碰撞了